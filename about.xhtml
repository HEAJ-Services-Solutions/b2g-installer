<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>B2G OS Installer</title>
    <meta content="width=800" name="viewport"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <script src="chrome://b2g-installer/content/about.js" type="text/javascript;version=1.8"></script>
    <link rel="stylesheet" type="text/css" href="chrome://b2g-installer/content/about.css"/>
  </head>
  <body>

    <h1 id="title"><span class="os-name">B2G</span> OS Installer</h1>

    <div id="wrapper" data-current-step="connect">

      <section class="connect">
        <h2>Connect</h2>
        <h3>Plug in the device you want to install Firefox OS on</h3>
        <h3 id="offline">You are working offline. Available builds will be displayed once connected.</h3>
        <span id="deviceId"></span>
        <span id="tooManyDevices" data-toomany="false">
          Only one device should be plugged in.
          Please disconnect any other device.
          Extra supported devices will not be taken into account.
        </span>
      </section>

      <section class="select">
        <h2>Select</h2>
        <h3>Select the build you would like to flash on your device</h3>
        <ul id="devices"></ul>
        <ul id="noDevice"></ul>
        <input id="userBuild" type="file" value="Upload your own build" />
        <template id="buildItemTemplate">
          <li><label class="build">
            <input type="radio" value="" name="build" /><!-- value: build.url -->
            <div class="description">
              <h4></h4><!-- build.name  -->
              <span></span><!-- build.description -->
            </div>
          </label></li>
        </template>
      </section>

      <section class="flash">
        <h2>Flash</h2>
        <h3>You are now ready to flash Firefox OS on your device</h3>
        <button id="installBtn">Flash Device</button>
        <label id="keep-data" data-isb2g="false">
          <input type="checkbox" checked="checked" id="keep-b2g-data" />
          Keep your data
        </label>
      </section>

    </div>

    <div id="telemetry">
        <label id="telemetry-label">
          <input type="checkbox" id="telemetry-allow" />
          <strong>Help us to improve the addon</strong>: By sending anonymous
          usage data, we will be able to see defects in the addon quickly
          (device not recognized, flashing failures) and learn about new devices
          to do ports on. More details are provided on B2G Installer MDN page.
          <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox_OS/Building_and_installing_Firefox_OS/B2G_installer_add-on#Data">B2G Installer MDN page</a>.
        </label>
    </div>

    <div class="dialog" id="progressDialog"><div>
      <section>
        <h2>Flashing Device</h2>
        <p>Do not unplug your device while flashingâ€¦</p>
        <ul>
          <li class="downloading">Downloading Build</li>
          <li class="extracting">Extracting Build</li>
          <li class="fetching">Downloading blobs from device</li>
          <li class="creating">Creating final build</li>
          <li class="flashing">Flashing build</li>
        </ul>
        <div id="additionalProgress"></div>
        <div id="subAdditionalProgress"></div>
      </section>
    </div></div>

    <div class="dialog" id="confirmDialog"><div>
      <section>
        <p>Your device has succesfully installed Firefox OS!</p>
        <button>Ok</button>
      </section>
    </div></div>

    <div class="dialog error" id="errorDisplay">
      <section class="unknown">
        An unknown error has been reported. Please check WebConsole and JSConsole.
      </section>
      <section class="adbhelper">
        Please verify ADB Helper at least v0.8.6 is installed and enabled.
      </section>
      <section class="gecko-tooold">
        Your Firefox Nightly is too old, please update.
      </section>
      <section class="gecko-unsupported-os-arch">
        This addon is only targetting Firefix Nightly running on Linux 32/64 bits or OSX 64 bits.
      </section>
      <section class="gecko-unsupported-build">
        This addon is only targetting Firefox Nightly builds.
      </section>
    </div>

  </body>
</html>
